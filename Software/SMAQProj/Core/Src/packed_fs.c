#include <stddef.h>
#include <string.h>
#include <time.h>

#if defined(__cplusplus)
extern "C" {
#endif
const char *mg_unlist(size_t no);
const char *mg_unpack(const char *, size_t *, time_t *);
#if defined(__cplusplus)
}
#endif

static const unsigned char v1[] = {
  31, 139,   8,   8,  18, 128,  90, 102,   4,   0, 105, 110, // ......Zf..in
 100, 101, 120,  46, 104, 116, 109, 108,   0, 181,  86,  93, // dex.html..V]
  79, 156,  64,  20, 125,  55, 241,  63,  92, 121, 145,  77, // O.@.}7.?.y.M
   4,  86, 116, 147,  38,   2,  73, 187, 106, 245, 161, 209, // .Vt.&.I.j...
  70, 109, 210, 167, 102, 100, 174,  50, 237,  48, 208, 153, // Fm..fd.2.0..
  97, 237, 166, 233, 127, 239,   0, 203,   2, 251, 149, 144, // a...........
 172, 240,   0, 115, 231, 220, 115, 206, 124, 221,  76, 112, // ...s..s.|.Lp
 116, 121,  55, 125, 252, 126, 127,   5, 137,  78, 121, 116, // ty7}.~...Nyt
 120,  16, 148,  95, 224,  68, 188, 134,  22,  10, 171, 138, // x.._.D......
  32, 161, 229,  55,  69,  77,  32,  78, 136,  84, 168,  67, //  ..7EM N.T.C
 235, 233, 241, 218, 249,  96,  45, 227, 130, 164,  24,  90, // .....`-....Z
  51, 134, 111, 121,  38, 181,   5, 113,  38,  52,  10, 131, // 3.oy&..q&4..
 123,  99,  84,  39,  33, 197,  25, 139, 209, 169,  26,  39, // {cT'!......'
 192,   4, 211, 140, 112,  71, 197, 132,  99, 120, 234, 142, // ....pG..cx..
  43,  30, 205,  52, 199, 232,   1, 133, 202,  36,  92,  18, // +..4.....$..
 149,  60, 103,  68, 210, 192, 171, 226,   6, 112, 120,   0, // .<gD.....px.
 139,  39,  56, 114,  28, 152,  62,  60,   0, 103, 226,  23, // .'8r..><.g..
  56,  78,   4, 157, 190,  42,  38, 145, 135, 150, 210, 115, // 8N...*&....s
 142,  42,  65,  52, 126,  18, 137,  47,  77, 196, 141, 149, // .*A4~../M...
 170,  20, 189, 102, 104, 207,  25, 157,  71,  38, 185, 166, // ...fh...G&..
   9,  40, 155,  65, 204, 137,  82, 161,  85, 142, 131,  48, // .(.A..R.U..0
 129, 210,  36,  84, 157, 171,   0,  85, 250,  93, 246,  46, // ..$T...U.]..
  17, 137,  31,  61,  98, 154, 163,  36, 186, 144, 104, 148, // ...=b..$..h.
 252,  85,  68, 222, 103, 112, 102, 132,  23, 104,   1, 163, // .UD.gpf..h..
 161, 165, 219,  76,  43, 114, 156, 192, 203, 187, 226, 158, // ...L+r......
  81,  31, 108, 230, 166,  72,  25, 101, 122,  62, 208,  73, // Q.l..H.ez>.I
 178,  72, 219, 151, 141, 123,  34,  53, 139,  57, 194,  23, // .H...{"5.9..
 162,  53,  74, 240, 221, 201,  64,  71, 121, 234,  79, 246, // .5J...@Gy.O.
 229, 102, 122, 231,  15,  84, 143,  51, 127,  95, 226,  31, // .fz..T.3._..
 191, 222,  14,  20,  39, 191, 217, 190, 196, 111, 144, 112, // ....'....o.p
 157,  12, 212,  79, 170, 164,  31,  28, 103, 200, 119,  25, // ...O....g.w.
  89,  55, 213,  65, 169,  88, 178,  92, 119,  79, 172, 231, // Y7.A.X..wO..
 193, 117,  33,  98, 205,  50,   1,  58, 131,  34, 167,  68, // .u!b.2.:.".D
  35, 212, 242,  80, 201,  43, 120,  99,  58,   1,  73,   4, // #..P.+xc:.I.
 205,  82,  16,  69, 250, 140,  82, 181,   4,  47,  77, 246, // .R.E..R../M.
 103, 212, 117, 249, 248,  86, 101, 217,  35, 248, 219,  31, // g.u..Ve.#...
 221,  11, 234,  56, 177, 143,  61, 146,  51, 175,  22,  80, // ...8..=.3..P
 199, 163,  62, 196, 213,   9,  10,  91,  66,  24, 129, 116, // ..>....[B..t
 127, 170,  76, 216, 163, 141,   8,  99, 146,  24, 208,  82, // ..L....c...R
 161, 125, 140, 103, 185, 176, 127,  90,  25, 129,  16,  74, // .}.g...Z...J
 180, 219,  57, 214,  23, 187, 178, 252,  94,  86, 115,   4, // ..9.....^Vs.
 119, 166, 156, 245,  82, 202,  51, 178,  19, 126, 222, 131, // w...R.3..~..
 155,  77, 189,   1,  77, 179, 184,  72,  77,   9, 119,  95, // .M..M..HM.w_
  81,  95, 113,  44, 127,  63, 205, 111, 169, 221, 171,  78, // Q_q,.?.o...N
  35,  51, 168,  63, 122,  90,  23, 123, 195, 215,  29, 246, // #3.?zZ.{....
  16, 206, 102, 144,  91,   8, 253, 193, 132, 229,  20, 108, // ..f.[......l
  33,  59,  27,  76, 102,  38, 104,  11, 215, 249,  38, 174, // !;.Lf&h...&.
 127, 163, 149, 246, 230, 173, 106, 142, 243, 238,  29,  74, // ......j....J
 153, 202,  77, 149, 120, 167,  29, 106, 228, 123, 187, 192, // ..M.x..j.{..
 180,  47, 182,  34, 235, 122, 209,  64, 187, 133,  96, 200, // ./.".z.@..`.
  60,  26, 162, 181, 121,  52, 177, 193, 235, 209, 213,  95, // <...y4....._
  37, 108, 221, 110,  90, 149, 118,  69, 204, 219, 235, 110, // %l.nZ.vE...n
  90, 237, 207, 114, 141,  90, 162, 245,  10, 115, 209, 171, // Z..r.Z...s..
  99,  79, 155, 106, 151, 113,  41, 231,  48,  49,  81, 115, // cO.j.q).01Qs
 153, 160,  10, 236, 201, 120,  60, 134, 148, 113, 206,  22, // .....x<..q..
 161, 142,  51, 115, 183, 186,  53,  35, 145,  38, 215,  94, // ..3s..5#.&.^
  17,  59, 129,  50, 177,  86,  92,   7, 215, 102, 215,  49, // .;.2.V...f.1
 129,  87,  87, 220, 101, 101,  46, 239,  58, 213, 229, 167, // .WW.ee..:...
 186, 241, 253,   7,  70,  97, 199, 244,   1,  10,   0,   0, 0 // ....Fa......
};
static const unsigned char v2[] = {
  31, 139,   8,   8, 219,  22, 237, 101,   4,   0, 115, 116, // .......e..st
 121, 108, 101, 115,  46,  99, 115, 115,   0, 109, 208, 193, // yles.css.m..
  14, 130,  48,  12,   6, 224, 187, 137, 239, 208, 196, 171, // ..0.........
  51, 104,  52,  49, 243, 228, 163,  20,  54, 160, 201,  88, // 3h41....6..X
 201,  54,  20,  52, 190, 187,  67,   8,  40, 113, 183, 117, // .6.4..C.(q.u
 255, 190, 118,  75,  89, 117, 240,  92, 175,  32, 174, 156, // ..vKYu... ..
 109,  16,  57,  86, 100,  58,   9,  87,  71, 104, 182, 224, // m.9Vd:.WGh..
 209, 122, 225, 181, 163, 252,  50, 132,  42, 116,   5,  89, // .z....2.*t.Y
   9, 201, 184, 175,  81,  41, 178, 197,  80, 120, 173,  87, // ....Q)..Px.W
 187,  44,  42,  72,  86, 187, 200, 142,  55,  90, 113,  39, // .,*HV...7Zq'
  21,  74,   9, 231,  36, 169, 219,  37,   4, 216,   4,  94, // .J..$..%...^
 106, 135,  24,  28,  65, 175, 173, 231,  73,  75, 217,  41, // j...A...IK.)
 237,  36, 236, 235,  22,  60,  27,  82, 176, 201, 178, 236, // .$...<.R....
 242, 125,  40,  28,  42, 106, 188, 132, 211, 212, 108, 118, // .}(.*j....lv
 151,   3, 136, 148,  67, 224, 234,  95, 199, 242, 240, 105, // ....C.._...i
  58,  71,   3, 215, 195,  59, 231, 144, 184, 161, 105, 244, // :G...;....i.
 207,  15, 122, 122, 232, 200,  29, 123, 110, 174, 222,  53, // ..zz...{n..5
  21, 101, 144, 113,  68, 163, 122, 225,  13, 131, 159,  89, // .e.qD.z....Y
  36, 121,   1,   0,   0, 0 // $y...
};

static const struct packed_file {
  const char *name;
  const unsigned char *data;
  size_t size;
  time_t mtime;
} packed_files[] = {
  {"/web_root/index.html.gz", v1, sizeof(v1), 1717207326},
  {"/web_root/styles.css.gz", v2, sizeof(v2), 1717207333},
  {NULL, NULL, 0, 0}
};

static int scmp(const char *a, const char *b) {
  while (*a && (*a == *b)) a++, b++;
  return *(const unsigned char *) a - *(const unsigned char *) b;
}
const char *mg_unlist(size_t no) {
  return packed_files[no].name;
}
const char *mg_unpack(const char *name, size_t *size, time_t *mtime) {
  const struct packed_file *p;
  for (p = packed_files; p->name != NULL; p++) {
    if (scmp(p->name, name) != 0) continue;
    if (size != NULL) *size = p->size - 1;
    if (mtime != NULL) *mtime = p->mtime;
    return (const char *) p->data;
  }
  return NULL;
}
