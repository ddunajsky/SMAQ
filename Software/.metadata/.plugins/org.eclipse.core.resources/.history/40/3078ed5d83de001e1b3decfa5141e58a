<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sensor Dashboard</title>

        <!-- CSS link --> 
        <link rel="stylesheet" href="styles.css">
</head>
<body>   
<div class="container">
    <div class="sensor">
        <h2>Temperature</h2>
        <p class="sensor-value" id="temperature">--</p>
    </div>
    <div class="sensor">
        <h2>Humidity</h2>
        <p class="sensor-value" id="humidity">--</p>
    </div>
    <div class="sensor">
        <h2>Particle Matter 2.5</h2>
        <p class="sensor-value" id="pm25">--</p>
    </div>
    <div class="sensor">
        <h2>CO2</h2>
        <p class="sensor-value" id="co2">--</p>
    </div>
    <div class="sensor">
        <h2>AQI</h2>
        <p class="sensor-value" id="aqi">--</p>
    </div>
</div>
        
        <script> 
        // Function to update sensor values with random numbers
        function GetSensorValues() {
            fetch('/api/sensors')
            .then(r => r.json())
            .then(data => {
                var sensor1Value = data.temperature;
                var sensor2Value = data.humidity;
                var sensor3Value = data.pm25;
                var sensor4Value = data.co2;
                document.getElementById("temperature").textContent = sensor1Value;
                document.getElementById("humidity").textContent = sensor2Value;
                document.getElementById("pm25").textContent = sensor3Value;
                document.getElementById("co2").textContent = sensor4Value;
            })
            }
        function Getaqi() {
            var aqiValue = data.aqi;
            document.getElementById("aqi").textContent = aqiValue;
        }


            
       
        Getaqi()
        GetSensorValues();
        // Update sensor values every 5 seconds (5000 milliseconds)
        setInterval(GetSensorValues, 5000);
        setInterval(Getaqi, 5000);
        </script>
    </body>
</html>