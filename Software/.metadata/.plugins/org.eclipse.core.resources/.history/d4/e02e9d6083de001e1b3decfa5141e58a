#include <stddef.h>
#include <string.h>
#include <time.h>

#if defined(__cplusplus)
extern "C" {
#endif
const char *mg_unlist(size_t no);
const char *mg_unpack(const char *, size_t *, time_t *);
#if defined(__cplusplus)
}
#endif

static const unsigned char v1[] = {
  31, 139,   8,   8, 136,  20, 237, 101,   4,   0, 105, 110, // .......e..in
 100, 101, 120,  46, 104, 116, 109, 108,   0, 165,  86, 209, // dex.html..V.
 110, 155,  48,  20, 125, 175, 212, 127, 184, 229, 165,  68, // n.0.}......D
  42, 144, 210,  70, 154, 212, 128, 180, 165, 237, 214, 135, // *..F........
 169, 157, 218,  78, 218, 163,  11, 183, 197, 155,  49, 204, // ...N......1.
  54, 233, 162, 105, 255, 190,  11,   4,   2,  73,  26,  21, // 6..i.....I..
 197,  47, 216, 215, 231, 158, 115,  12, 190,  54, 211, 163, // ./....s..6..
 203, 219, 217, 195, 143, 187,  43,  72,  76,  42, 194, 195, // ......+HL*..
 131, 105, 249,   4, 193, 228,  75,  96, 161, 180, 170,   8, // .i....K`....
 178, 184, 124, 166, 104,  24,  68,   9,  83,  26,  77,  96, // ..|.h.D.S.M`
  61,  62,  92,  59,  31, 172,  54,  46,  89, 138, 129,  53, // =>.;..6.Y..5
 231, 248, 154, 103, 202,  88,  16, 101, 210, 160,  36, 220, // ...g.X.e..$.
  43, 143,  77,  18, 196,  56, 231,  17,  58, 213, 224,   4, // +.M..8..:...
 184, 228, 134,  51, 225, 232, 136,   9,  12,  78, 221, 113, // ...3.....N.q
 197,  99, 184,  17,  24, 222, 163, 212, 153, 130,  75, 166, // .c........K.
 147, 167, 140, 169, 120, 234,  85, 113,   2,  28,  30, 192, // ....x.Uq....
 178,  77, 143,  28,   7, 102, 247, 247,  32, 184, 252,   5, // .M...f.. ...
 142,  19,  66, 103, 174, 138,  41,  20, 129, 165, 205,  66, // ..Bg..)....B
 160,  78,  16, 201,  79, 162, 240, 185, 137, 184, 145, 214, // .N..O.......
 149, 162, 215,  44, 237,  41, 139,  23,  33,  37,  83,  55, // ...,.)..!%S7
 230, 115, 136,   4, 211,  58, 176, 202,  53,  48,  46,  81, // .s...:..50.Q
  17, 184, 226, 239,  78, 234, 210, 103,  59,  83, 205,  38, // ....N..g;S.&
 126, 248, 128, 105, 142, 138, 153,  66,  33, 177, 251, 221, // ~..i...B!...
 217, 188, 159, 233, 204, 153,  40, 208,   2,  30,   7, 150, // ......(.....
  89, 101,  89, 161, 227,  76, 189, 188,  17, 244,  72, 241, // YeY..L....H.
 221, 226,  95, 138, 148, 199, 220,  44,   6,  40,  39, 203, // .._....,.('.
 148, 125, 100, 239, 152,  50,  60,  18,   8,  95, 153,  49, // .}d..2<.._.1
 168, 192, 119,  39,   3,  28, 228, 169,  63, 217,  71, 125, // ..w'....?.G}
 118, 235,  15,  80, 139,  50, 127,  31, 177, 143, 223, 110, // v..P.2.....n
   6, 136, 177, 223, 124, 187,  88,  43, 186, 108,  29,  58, // ....|.X+.l.:
  29,  41, 158, 155, 238, 134, 246,  60, 184,  46, 100, 100, // .).....<..dd
 120,  38, 193, 100,  80, 228,  49,  51,   8, 181,  26,  84, // x&.dP.13...T
 106,  26,  94, 185,  73,  64,  49,  25, 103,  41, 200,  34, // j.^.I@1.g)."
 125,  66, 165,  87,   4, 207,  77, 246, 103,  52, 117, 117, // }B.W..M.g4uu
 125, 175, 178, 236,  17, 252, 173,  81,  45,  18,  77, 148, // }......Q-.M.
 216, 199,  30, 203, 185,  87,  11, 232, 227,  81,  31, 226, // .....W...Q..
 154,   4, 165, 173,  32,   8,  65, 185,  63, 117,  38, 237, // .... .A.?u&.
 209,  86,   4, 153, 100,   4, 106,  21,  86, 141,  60, 171, // .V..d.j.V.<.
 165, 253, 211, 202,   8,   4,  80, 162, 221,  78,  21,  92, // ......P..N..
 236, 202, 242, 123,  89, 205,  14, 222, 153, 114, 214,  75, // ...{Y....r.K
  41, 183, 220,  78, 248, 121,  15,  78, 123, 102,  11,  58, // )..N.y.N{f.:
 206, 162,  34, 165,  19, 206, 125,  65, 115,  37, 176, 236, // .."...}As%..
 126,  90, 220, 196, 118, 175, 152,  71, 180, 168,  63, 102, // ~Z..v..G..?f
  86, 159, 133, 196, 215,  93, 246,  16, 206, 102, 145, 111, // V....]...f.o
  16, 250, 131,   9, 203,  87, 240,   6, 217, 217,  96,  50, // .....W....`2
 122,  65, 111, 112, 157, 111, 227, 250,  55,  90,  27, 111, // zAop.o..7Z.o
 223, 170,  84,  61, 245,  14,  93, 255,  70,  52, 209, 251, // ..T=..].F4..
  62,  52,  38, 133, 119,  57,  37, 232, 134,  83, 138, 181, // >4&.w9%..S..
  46,  87, 142, 154, 235, 102,  85, 162, 235, 157, 214,  99, // .W...fU....c
  27, 217,  44, 176, 139,  94,  25,  63, 110,  43,  93, 156, // ..,..^.?n+].
 163,  90, 192, 132, 162, 116, 221, 196,  26, 236, 201, 120, // .Z...t.....x
  60, 134, 148,  11, 193, 151, 161, 142,   0, 221, 188,  55, // <..........7
 228,  91,  81, 174, 189,  38, 118,   2, 101,  98, 173, 184, // .[Q..&v.eb..
   9, 174, 189, 110,  98, 166,  94, 125, 224, 180,   7,  84, // ...nb.^}...T
 121,  19,  86,  39,  84, 245,  63, 240,  31, 254,  11, 167, // y.V'T.?.....
 243,  31,   8,   0,   0, 0 // .....
};
static const unsigned char v2[] = {
  31, 139,   8,   8,  82, 144, 222, 101,   4,   0, 115, 116, // ....R..e..st
 121, 108, 101, 115,  46,  99, 115, 115,   0, 109, 208, 193, // yles.css.m..
  14, 130,  48,  12,   6, 224, 187, 137, 239, 208, 196, 171, // ..0.........
  51, 104,  52,  49, 243, 228, 163,  20,  54, 160, 201,  88, // 3h41....6..X
 201,  54,  20,  52, 190, 187,  67,   8,  40, 113, 183, 117, // .6.4..C.(q.u
 255, 190, 118,  75,  89, 117, 240,  92, 175,  32, 174, 156, // ..vKYu... ..
 109,  16,  57,  86, 100,  58,   9,  87,  71, 104, 182, 224, // m.9Vd:.WGh..
 209, 122, 225, 181, 163, 252,  50, 132,  42, 116,   5,  89, // .z....2.*t.Y
   9, 201, 184, 175,  81,  41, 178, 197,  80, 120, 173,  87, // ....Q)..Px.W
 187,  44,  42,  72,  86, 187, 200, 142,  55,  90, 113,  39, // .,*HV...7Zq'
  21,  74,   9, 231,  36, 169, 219,  37,   4, 216,   4,  94, // .J..$..%...^
 106, 135,  24,  28,  65, 175, 173, 231,  73,  75, 217,  41, // j...A...IK.)
 237,  36, 236, 235,  22,  60,  27,  82, 176, 201, 178, 236, // .$...<.R....
 242, 125,  40,  28,  42, 106, 188, 132, 211, 212, 108, 118, // .}(.*j....lv
 151,   3, 136, 148,  67, 224, 234,  95, 199, 242, 240, 105, // ....C.._...i
  58,  71,   3, 215, 195,  59, 231, 144, 184, 161, 105, 244, // :G...;....i.
 207,  15, 122, 122, 232, 200,  29, 123, 110, 174, 222,  53, // ..zz...{n..5
  21, 101, 144, 113,  68, 163, 122, 225,  13, 131, 159,  89, // .e.qD.z....Y
  36, 121,   1,   0,   0, 0 // $y...
};

static const struct packed_file {
  const char *name;
  const unsigned char *data;
  size_t size;
  time_t mtime;
} packed_files[] = {
  {"/web_root/index.html.gz", v1, sizeof(v1), 1710036167},
  {"/web_root/styles.css.gz", v2, sizeof(v2), 1710036163},
  {NULL, NULL, 0, 0}
};

static int scmp(const char *a, const char *b) {
  while (*a && (*a == *b)) a++, b++;
  return *(const unsigned char *) a - *(const unsigned char *) b;
}
const char *mg_unlist(size_t no) {
  return packed_files[no].name;
}
const char *mg_unpack(const char *name, size_t *size, time_t *mtime) {
  const struct packed_file *p;
  for (p = packed_files; p->name != NULL; p++) {
    if (scmp(p->name, name) != 0) continue;
    if (size != NULL) *size = p->size - 1;
    if (mtime != NULL) *mtime = p->mtime;
    return (const char *) p->data;
  }
  return NULL;
}
