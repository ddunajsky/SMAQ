<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sensor Dashboard</title>

        <!-- CSS link --> 
        <link rel="stylesheet" href="styles.css">
</head>
<body>   
<div class="container">
    <div class="sensor">
        <h2>Temperature</h2>
        <p class="sensor-value" id="sensor1">--</p>
    </div>
    <div class="sensor">
        <h2>Humidity</h2>
        <p class="sensor-value" id="sensor2">--</p>
    </div>
    <div class="sensor">
        <h2>CO2</h2>
        <p class="sensor-value" id="sensor3">--</p>
    </div>
    <div class="sensor">
        <h2>Particle Matter 2.5</h2>
        <p class="sensor-value" id="sensor4">--</p>
    </div>
</div>
        
        <script> 
        // Function to update sensor values with random numbers
        function GetSensorValues() {
            fetch('/api/sensors')
            .then(r => r.json())
            .then(data => {
                var sensor1Value = data.sensor1;
                var sensor2Value = data.sensor2;
                var sensor3Value = data.sensor3;
                var sensor4Value = data.sensor4;
                document.getElementById("sensor1").textContent = sensor1Value;
                document.getElementById("sensor2").textContent = sensor2Value;
                document.getElementById("sensor3").textContent = sensor3Value;
                document.getElementById("sensor4").textContent = sensor4Value;
            })
            


            
            
        // Generate random sensor values between 0 and 100
            // var sensor1Value = Math.floor(Math.random() * 101);
            // var sensor2Value = Math.floor(Math.random() * 101);
            // var sensor3Value = Math.floor(Math.random() * 101);
            // var sensor4Value = Math.floor(Math.random() * 101);
        
        // Update the HTML elements with the new sensor values
            
            //document.getElementById("sensor2").textContent = JSON.stringify(r);
            // document.getElementById("sensor3").textContent = sensor3Value;
            // document.getElementById("sensor4").textContent = sensor4Value;
        }

        GetSensorValues();
        // Update sensor values every 5 seconds (5000 milliseconds)
        setInterval(GetSensorValues, 5000);
        </script>
    </body>
</html>